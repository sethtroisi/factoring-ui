<!DOCTYPE html>
<meta charset="utf-8">
<head>
<style>
.seperator {
  font-weight: bold;
  margin: 16px 0 8px;
}

</style>

{# <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.js"></script> #}
{% set base="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0" %}
<link rel="stylesheet" href="{{base}}/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="{{base}}/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</head>

<body>
  <h1>Welcome to CloudyGo's Factoring Page!</h1>

  <div class="container">
    <h2>{{ eta }}</h2>
    <div id='status'>This is day 0, iteration 1, more styling tomorrow.</div>
    <div>Last updated: {{ last_update }} ({{ hours_ago|int }} hours ago)</div>
    <table class="table table-sm">
      <thead class="thead-dark">
        <tr>
          <th scope="col">host</th>
          <th scope="col"># of workunits</th>
          <th scope="col">Relations</th>
          <th scope="col">CPU-days</th>
          <th scope="col">last workunit</th>
        </tr>
      </thead>
      <tbody>
        {% for host, host_stat in host_stats %}
        <tr>
          <th scope="row">{{ host }}</th>
          <td>{{ host_stat[0] }}</td>
          {% if loop.first %}
            <td>{{ host_stat[1] }} ({{ "{:.2f}".format(100 * host_stat[1] / 2700000000) }}%)</td>
          {% else %}
            <td>{{ host_stat[1] }} ({{ (100 * host_stat[1] / relations_done) |round(1) }}% total)</td>
          {% endif %}
          <td>{{ (host_stat[2] / 3600 / 24)|round(1) }}</td>
          <td>{{ host_stat[3] }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>
